{"version":3,"sources":["Config.js","StatusTextBox.js","Status.js","StatusList.js","StatusPage.js","UserCard.js","CommunityPage.js","Profile.js","MainPage.js","NormalLoginForm.js","LoginPage.js","SignInPage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","appId","scopes","StatusTextBox","handleSubmit","e","preventDefault","props","form","validateFields","err","values","options","method","headers","Authorization","accessToken","user","id","username","body","JSON","stringify","fetch","then","response","json","resetFields","handler","catch","console","log","this","fieldsError","getFieldDecorator","isFieldTouched","getFieldsError","getFieldError","statusError","Container","style","width","textAlign","bordered","onSubmit","Item","validateStatus","help","rules","required","message","TextArea","rows","cols","placeholder","size","type","htmlType","disabled","Object","keys","some","field","React","Component","WrappedStatusTextBox","create","name","Meta","Status","showModal","setState","visible","new_content","item","content","handleChange","target","value","handleCancel","handleOk","a","state","uri","text","title","datetime","description","isUserTweet","margin","padding","actions","key","onClick","handleDelete","bind","onOk","onCancel","onChange","StatusList","dataSource","data","renderItem","Content","StatusPage","updatedEdit","updatedPost","status","handlerEdit","handlerPost","display","UserCard","handleUnfollow","profile","handleFollow","button","following","includes","CommunityPage","Title","updateFollow","fetchUsers","fetchFollowingList","prevProps","prevState","length","grid","gutter","column","users","Profile","follower","fetchFollowerList","row","followingData","i","push","email","columns","dataIndex","followerData","span","fontSize","to","followerList","followingList","exact","path","menuItemSize","Header","paddingTop","menuPlaceHolder","height","MainPage","statusData","updatedStatus","prevStates","statusUpdate","location","filter","index","arr","fetchFollowingUserData","list","Promise","all","map","cache","result","concat","fetchFollowerUserData","sort","b","Date","parse","theme","mode","icon","followinglist","NormalLoginForm","handleRegister","wrapperCol","xs","sm","className","label","initialValue","mail","prefix","color","givenName","surname","WrappedNormalLoginForm","LoginPage","Grid","container","spacing","direction","alignItems","justify","minHeight","minWidth","SignInPage","UserAgentApplication","auth","clientId","config","authority","redirectURI","cacheLocation","storeAuthStateInCookie","getAccount","isAuthenticated","authResponse","error","db_user","updateUser","getUserProfile","getUserDetails","signIn","getUserFromDb","graph","require","client","Client","init","authProvider","done","api","get","acquireTokenSilent","loginPopup","prompt","debug","url","pathname","background","logIn","component","App","Boolean","window","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9c657b04.chunk.js","sourcesContent":["module.exports = {\r\n    appId: 'f6848992-be00-4b00-8eb6-18f1654d6a81',\r\n    scopes: [\r\n        \"https://graph.microsoft.com/.default\"\r\n    ]\r\n}","import React from 'react';\r\nimport { Form, Button, Input, Card } from 'antd';\r\nimport { Container } from '@material-ui/core';\r\n\r\nfunction hasErrors(fieldsError) {\r\n    return Object.keys(fieldsError).some(field => fieldsError[field]);\r\n  }\r\n\r\nclass StatusTextBox extends React.Component {\r\n    \r\n    componentDidMount() {\r\n        // To disabled submit button at the beginning.\r\n        this.props.form.validateFields();\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n          if (!err) {\r\n            // call api to post status\r\n            const url = \"https://cad-cw-cmy1g17.azurewebsites.net/api/postStatus\";\r\n            const options = {method: 'POST', headers: {Authorization : 'Bearer ' + this.props.accessToken}}\r\n            values['id'] = this.props.user.id;\r\n            values['username'] = this.props.user.username;\r\n            options.body = JSON.stringify(values);\r\n            fetch (url, options)\r\n            .then(response => response.json())\r\n            .then(this.props.form.resetFields())\r\n            .then(this.props.handler(true))\r\n            .catch(err => console.log(err))\r\n          }\r\n        });\r\n    };\r\n\r\n\r\n\r\n    render () {\r\n        const { getFieldDecorator, isFieldTouched, getFieldsError, getFieldError } = this.props.form;\r\n        const statusError = isFieldTouched('content') && getFieldError('content');\r\n\r\n        return (\r\n            <Container style={{width:'60vw', textAlign:\"center\"}}>\r\n            <Card bordered={false}>\r\n            <Form onSubmit={this.handleSubmit}>\r\n                    <Form.Item validateStatus={statusError ? 'error' : ''} help={statusError || ''}>\r\n                        {getFieldDecorator('content', {\r\n                            rules: [{required: true, message : 'You cannot post empty status'}]\r\n                        }) (\r\n                            <Input.TextArea rows='5' cols='35' style={{'resize':'none', 'width' : '50%', 'fontSize' : '18px'}} placeholder=\"What do you want to post today?\"/>\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button size=\"large\" type=\"primary\" htmlType = \"submit\" disabled={hasErrors(getFieldsError())}>Post</Button>  \r\n                    </Form.Item>\r\n            </Form>\r\n            </Card>\r\n            </Container>\r\n        );\r\n    }\r\n\r\n}\r\nconst WrappedStatusTextBox = Form.create({name : 'status_box'})(StatusTextBox);\r\nexport default WrappedStatusTextBox;","import React from 'react';\r\nimport { Input, Card, Icon, Modal } from 'antd';\r\nimport {Container} from '@material-ui/core';\r\nimport { textAlign } from '@material-ui/system';\r\nconst {Meta} = Card;\r\n\r\nclass Status extends React.Component {\r\n    \r\n    constructor (props){\r\n        super(props);\r\n        this.state = {visible : false, new_content:''};\r\n    }\r\n\r\n    showModal = () => {\r\n        this.setState({\r\n          visible: true,\r\n          new_content : this.props.item.content\r\n        });\r\n    };\r\n\r\n    handleChange = e => {\r\n        this.setState({\r\n          new_content: e.target.value,\r\n        });\r\n    };\r\n\r\n    handleCancel = e => {\r\n        this.setState({\r\n          visible: false,\r\n        });\r\n    };\r\n\r\n    // update edited status via Azure Functions\r\n    handleOk = async e => {\r\n        const new_content = this.state.new_content;\r\n        const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/editStatus?id=\" + this.props.item.id;\r\n        const options = {method : 'POST'}\r\n        options.body = JSON.stringify({\r\n            content : new_content\r\n        });\r\n        await fetch(uri, options)\r\n        .then(response => response.json())\r\n        .then(this.setState({\r\n            visible: false,\r\n          }))\r\n        .then(this.props.handler())\r\n        .catch(err => console.log(err))\r\n    };\r\n\r\n\r\n    isUserTweet() {\r\n        // check if post \r\n        return this.props.user.username === this.props.item.username;\r\n    }\r\n\r\n    async handleDelete (){\r\n        const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/deleteStatus?id=\"+this.props.item.id;\r\n        const options = {method : 'GET'}\r\n        await fetch(uri, options)\r\n        .then(response => response.json())\r\n        .then(this.props.handler())\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    render() {\r\n\r\n        const text = <Meta title={this.props.item.username+\"  (\"+this.props.item.datetime+\")\"} description={this.props.item.content}/>\r\n\r\n        if (this.isUserTweet()) {\r\n\r\n            return (\r\n                <Container style={{width:'60vw', textAlign:\"center\"}}>\r\n                <Card style={{margin:0, padding: 0}} \r\n                      actions={[\r\n                      <Icon type=\"edit\" key=\"edit\" onClick={this.showModal}/>, \r\n                      <Icon type=\"delete\" onClick={this.handleDelete.bind(this)}/>]\r\n                      }>\r\n                    {text}\r\n                </Card>\r\n                <Modal\r\n                    title=\"Edit your status\"\r\n                    visible={this.state.visible}\r\n                    onOk={this.handleOk.bind(this)}\r\n                    onCancel={this.handleCancel}\r\n                >\r\n                    <Input.TextArea id=\"textarea\" onChange={this.handleChange.bind(this)} rows='5' cols='35' style={{'resize':'none', 'fontSize' : '18px'}} value={this.state.new_content} placeholder=\"What do you want to post today?\"/>\r\n                </Modal>\r\n                </Container>\r\n            );\r\n        }else {\r\n            return (\r\n                <Container style={{width:'60vw', textAlign:\"center\"}}>\r\n                <Card>\r\n                    {text}\r\n                </Card>\r\n                </Container>\r\n            )\r\n        }\r\n\r\n    }\r\n}\r\nexport default Status;","import React from 'react';\r\nimport { Container } from '@material-ui/core';\r\nimport { List } from 'antd';\r\nimport Status from './Status';\r\nimport { textAlign } from '@material-ui/system';\r\n\r\nclass StatusList extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    render () {\r\n        return (\r\n                <List dataSource ={this.props.data} style={{textAlign : \"center\"}}\r\n                renderItem = {item => (\r\n                    <List.Item>\r\n                        <Status item={item} user={this.props.user} handler={this.props.handler}/>\r\n                    </List.Item>\r\n                )}>\r\n                </List>\r\n        );\r\n    }\r\n\r\n}\r\nexport default StatusList;","import React from 'react';\r\nimport { Layout, Spin } from 'antd';\r\nimport WrappedStatusTextBox from './StatusTextBox';\r\nimport { Container } from '@material-ui/core'; \r\nimport StatusList from './StatusList';\r\nconst { Content } = Layout\r\n\r\nclass StatusPage extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    \r\n\r\n    // componentDidMount(){\r\n    //     this.props.fetchFollowingList();\r\n    // }\r\n    \r\n    display(){\r\n        return (\r\n            (this.props.updatedEdit || this.props.updatedPost) ? \r\n                <Spin/>\r\n                :\r\n                <StatusList data={this.props.status} user={this.props.user} handler={this.props.handlerEdit}/>\r\n        )\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <Layout>\r\n            <Content>\r\n                <Container style={{textAlign:'center'}}>\r\n                <WrappedStatusTextBox user={this.props.user} accessToken={this.props.accessToken} handler={this.props.handlerPost}></WrappedStatusTextBox>\r\n                {this.display()}\r\n                </Container>\r\n            </Content>\r\n            </Layout>\r\n        );\r\n    }\r\n\r\n}\r\nexport default StatusPage;","import React from 'react';\r\nimport { Card, Button } from 'antd';\r\n\r\nclass UserCard extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n\r\n\r\n    handleUnfollow = async e => {\r\n        // talk to azure functions to unfollow a user\r\n        const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/unfollowUser?from=\" + this.props.user.id + \"&to=\" + this.props.profile.id;\r\n        await fetch(uri)\r\n        .then(response => response.json())\r\n        .then(this.props.handler())\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    handleFollow = async e => {\r\n        // talk to azure functions to follow a user\r\n        const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/followUser?from=\" + this.props.user.id + \"&to=\" + this.props.profile.id;\r\n        await fetch(uri)\r\n        .then(response => response.json())\r\n        .then(this.props.handler())\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n\r\n\r\n    render () {\r\n        let button;\r\n        if (this.props.following.includes(this.props.profile.id)) {\r\n            // user already following this user\r\n            button = <Button type=\"primary\" onClick={this.handleUnfollow}>Following</Button>\r\n        }else {\r\n            button = <Button type=\"primary\" onClick={this.handleFollow}>Follow</Button>\r\n        }\r\n        return (\r\n            <Card bordered={false} title={'@'+this.props.profile.username} style={{textAlign: 'center'}}>\r\n                <div>{this.props.profile.name}</div>\r\n                <div>{button}</div>\r\n            </Card>\r\n        );\r\n        \r\n    }\r\n\r\n}\r\nexport default UserCard;","import React from 'react';\r\nimport { Layout, Typography, List, Card } from 'antd';\r\nimport { Container } from '@material-ui/core';\r\nimport UserCard from './UserCard'; \r\n \r\nconst { Content } = Layout;\r\nconst { Title } = Typography;\r\n\r\nclass CommunityPage extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {updateFollow : false};\r\n    }\r\n\r\n    async componentDidMount(){\r\n        await this.props.fetchUsers();\r\n        await this.props.fetchFollowingList();\r\n    }\r\n\r\n    handler(){\r\n        this.setState({updateFollow : true});\r\n    }\r\n\r\n    async componentDidUpdate(prevProps, prevState){\r\n        if (this.state.updateFollow) {\r\n            const size = prevProps.following.length;\r\n            await this.props.fetchFollowingList();\r\n            if (size !== this.props.following.length) {\r\n                // data fetch is consistent to write\r\n                this.setState({updateFollow:false});\r\n            }\r\n        }\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <Layout>\r\n            <Content>\r\n                <Container style={{textAlign:'center'}}>\r\n                    <h1>Explore the community</h1>\r\n                    <List grid= {{gutter : 16, column: 4}}\r\n                    dataSource={this.props.users}\r\n                    renderItem={item => (\r\n                        <List.Item>\r\n                            <UserCard user={this.props.user} following={this.props.following} profile={item} handler={this.handler.bind(this)}/>\r\n                        </List.Item>\r\n                    )} \r\n                    />                   \r\n                </Container>\r\n            </Content>\r\n            </Layout>\r\n        );\r\n    }\r\n\r\n}\r\nexport default CommunityPage;","import React from 'react';\r\nimport { Row, Col, Card, Table } from 'antd';\r\nimport { Container } from '@material-ui/core';\r\nimport { Route, Switch, Link, BrowserRouter as Router } from 'react-router-dom';\r\n\r\nclass Profile extends React.Component {\r\n\r\n    constructor(props){\r\n        super (props);\r\n        this.following.bind(this);\r\n        this.follower.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.fetchFollowingList();\r\n        this.props.fetchFollowerList();\r\n    }\r\n\r\n    following() {\r\n        const row = [];\r\n        const columns = [\r\n            {\r\n                title: 'Username',\r\n                dataIndex : 'username',\r\n                key : 'username'\r\n            },\r\n            {\r\n                title: 'Name',\r\n                dataIndex : 'name',\r\n                key : 'name'\r\n            },\r\n            {\r\n                title: 'Email',\r\n                dataIndex : 'email',\r\n                key : 'email'\r\n            }\r\n        ]\r\n        const data = this.props.followingData;\r\n        for (let i = 0; i < data.length; i++){\r\n            row.push({\r\n                key : 'following'+i,\r\n                username : '@' + data[i].username,\r\n                name : data[i].name,\r\n                email : data[i].email\r\n            })\r\n        }\r\n        return (\r\n            <Container style={{textAlign:'center'}}>\r\n                <h2>List of Following</h2>\r\n                <Table columns={columns} dataSource={data}/>\r\n            </Container>\r\n        )\r\n    }\r\n    \r\n    follower() {\r\n        const row = [];\r\n        const columns = [\r\n            {\r\n                title: 'Username',\r\n                dataIndex : 'username',\r\n                key : 'username'\r\n            },\r\n            {\r\n                title: 'Name',\r\n                dataIndex : 'name',\r\n                key : 'name'\r\n            },\r\n            {\r\n                title: 'Email',\r\n                dataIndex : 'email',\r\n                key : 'email'\r\n            }\r\n        ]\r\n        const data = this.props.followerData;\r\n        for (let i = 0; i < data.length; i++){\r\n            row.push({\r\n                key : 'follower'+i,\r\n                username : '@' + data[i].username,\r\n                name : data[i].name,\r\n                email : data[i].email\r\n            })\r\n        }\r\n        return (\r\n            <Container style={{textAlign:'center'}}>\r\n                <h2>List of Follower</h2>\r\n                <Table columns={columns} dataSource={data}/>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n    <Router>\r\n    <div>\r\n    <Row>\r\n      <Col span={24}>\r\n          <Container style={{textAlign:'center'}}>\r\n            <Card bordered={false}>\r\n                <h1>{'@' + this.props.user.username}</h1>\r\n                <div style={{fontSize : '20px'}}>{this.props.user.name}</div>\r\n                <div style={{fontSize : '20px'}}>{this.props.user.email}</div>\r\n            </Card>\r\n            <Row>\r\n            <Col span={12}>\r\n                <Container>\r\n                    <Link to=\"/follower\">\r\n                        <Card>\r\n                            <h2>Number of Followers</h2>\r\n                            <div style={{fontSize: '30px'}}>{this.props.followerList.length}</div>\r\n                        </Card>\r\n                    </Link>\r\n                </Container>\r\n            </Col>\r\n            <Col span={12}>\r\n                <Container>\r\n                    <Link to=\"/following\">\r\n                        <Card>\r\n                        <h2>Number of Following</h2>\r\n                        <div style={{fontSize: '30px'}}>{this.props.followingList.length}</div>\r\n                        </Card>\r\n                    </Link>\r\n                </Container>\r\n            </Col>\r\n            </Row>  \r\n          </Container>\r\n        </Col>\r\n    </Row>\r\n    <Row>\r\n        <Col span={24}>\r\n            <Switch>\r\n                <Route exact path=\"/following\">{this.following()}</Route>\r\n                <Route exact path=\"/follower\">{this.follower()}</Route>\r\n            </Switch>\r\n            \r\n        </Col>\r\n    </Row>\r\n    </div>\r\n    </Router>\r\n    )\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\nexport default Profile;","import React from 'react';\r\nimport { Layout, Menu, Icon, Typography, Result } from 'antd';\r\nimport { BrowserRouter as Router, Link, Route, Switch } from 'react-router-dom';\r\nimport StatusPage from './StatusPage';\r\nimport CommunityPage from './CommunityPage';\r\nimport Profile from './Profile';\r\n\r\nconst { Header, Content } = Layout;\r\nconst { Title } = Typography;\r\nconst menuItemSize = {\r\n  fontSize: '20px',\r\n  paddingTop: '25px'\r\n};\r\nconst menuPlaceHolder = { height: '10vh', width: '20vw', textAlign: 'center' }\r\n\r\n\r\nclass MainPage extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { statusData: [], users: [], following: [], followerList: [], followingData: [], followerData: [], updatedPost:false, updatedStatus:false }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.fetchFollowingList();\r\n  }\r\n\r\n  async componentDidUpdate(prevProps, prevStates) {\r\n      if (this.state.updatedPost || this.state.updatedEdit) {\r\n        await this.statusUpdate();\r\n        if (prevStates.statusData !== this.state.statusData) {\r\n          this.setState({updatedEdit : false, updatedPost : false})\r\n        }\r\n      }\r\n\r\n  }\r\n\r\nhandlerPost(value) {\r\n    this.setState({updatedPost : true});\r\n}\r\n\r\nhandlerEdit(value) {\r\n    this.setState({updatedEdit : true});\r\n}\r\n\r\n  async fetchUsers() {\r\n    // fetch all users from database\r\n    const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/getAllUsers\";\r\n    const id = this.props.location.state.user.id;\r\n    await fetch(uri)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data.filter(function (value, index, arr) {\r\n          return value.id !== id\r\n        })\r\n      })\r\n      .then(data => this.setState({ users: data }))\r\n  }\r\n\r\nasync fetchFollowingList() {\r\n    // fetch list of following\r\n    const id = this.props.location.state.user.id;\r\n    const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/getFollowing?id=\" + this.props.location.state.user.id;\r\n    await fetch(uri)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        this.setState({ following: data })\r\n        this.statusUpdate();\r\n        this.fetchFollowingUserData();\r\n    });\r\n  }\r\n\r\nasync fetchFollowingUserData() {\r\n    const list = this.state.following;\r\n    await Promise.all(list.map(user => {\r\n      const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/getUserFromDb?id=\" + user;\r\n      return fetch(uri, { cache: \"no-cache\" }).then(response => response.json())\r\n    }))\r\n      .then(data => {\r\n        let result = []\r\n        for (var i = 0; i < data.length; i++) {\r\n          if (data.length > 0) {\r\n            result = result.concat(data[i]);\r\n          }\r\n        }\r\n        return result;\r\n      }).then(result => this.setState({ followingData: result }))\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\nasync fetchFollowerUserData() {\r\n    const followerList = this.state.followerList;\r\n    await Promise.all(followerList.map(user => {\r\n      const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/getUserFromDb?id=\" + user;\r\n      return fetch(uri, { cache: \"no-cache\" }).then(response => response.json())\r\n    }))\r\n      .then(data => {\r\n        let result = []\r\n        for (var i = 0; i < data.length; i++) {\r\n          if (data.length > 0) {\r\n            result = result.concat(data[i]);\r\n          }\r\n        }\r\n        return result;\r\n      }).then(result => this.setState({ followerData: result }))\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  async fetchFollowerList() {\r\n    // fetch list of followers\r\n    const id = this.props.location.state.user.id;\r\n    const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/getFollowers?id=\" + this.props.location.state.user.id;\r\n    await fetch(uri)\r\n    .then(response => response.json())\r\n    .then(async data => {\r\n      this.setState({ followerList: data });\r\n      await this.fetchFollowerUserData();\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  async statusUpdate() {\r\n    // finding data for status list\r\n    var followingList = this.state.following;\r\n    followingList = [...followingList];\r\n    if (!followingList.includes(this.props.location.state.user.id)){\r\n      followingList.push(this.props.location.state.user.id);\r\n    }\r\n    await Promise.all(followingList.map(user => {\r\n      const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/getStatus/\" + user;\r\n      return fetch(uri, { cache: \"no-cache\" }).then(response => response.json())\r\n    }))\r\n      .then(data => {\r\n        let result = []\r\n        for (var i = 0; i < data.length; i++) {\r\n          if (data.length > 0) {\r\n            result = result.concat(data[i]);\r\n          }\r\n        }\r\n        result = result.sort(function (a, b) {\r\n          return Date.parse(a.datetime) < Date.parse(b.datetime) ? 1 : -1\r\n        });\r\n        return result;\r\n      }).then(result => this.setState({ statusData: result }))\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <Menu theme=\"dark\" mode=\"horizontal\" style={{ height: '10vh' }}>\r\n          <Menu.Item key=\"profile\" style={menuPlaceHolder}>\r\n            <Link to=\"/profile\">\r\n              <span style={menuItemSize}>\r\n                <Icon type=\"smile\" style={menuItemSize} />\r\n                Profile </span>\r\n            </Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"status\" style={menuPlaceHolder}>\r\n            <Link to=\"/statusList\">\r\n              <span style={menuItemSize}>\r\n                <Icon type=\"message\" style={menuItemSize} />\r\n                Status </span>\r\n            </Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"user\" style={menuPlaceHolder}>\r\n            <Link to=\"/community\">\r\n              <span style={menuItemSize}><Icon type=\"user\" style={menuItemSize} /> Explore </span>\r\n            </Link>\r\n          </Menu.Item>\r\n        </Menu>\r\n        <Switch>\r\n          <Route path=\"/status\"><Result\r\n            icon={<Icon type=\"smile\" theme=\"twoTone\" />}\r\n            title=\"Welcome to the Social Media App!\"\r\n          /></Route>\r\n          <Route path=\"/profile\"><Profile user={this.props.location.state.user} followingList={this.state.following} followingData = {this.state.followingData} followerData = {this.state.followerData} fetchFollowingList={this.fetchFollowingList.bind(this)} followerList={this.state.followerList} fetchFollowerList={this.fetchFollowerList.bind(this)} /> </Route>\r\n          <Route path=\"/statusList\"><StatusPage updatedPost={this.state.updatedPost} updatedEdit={this.state.updatedEdit} handlerPost={this.handlerPost.bind(this)} handlerEdit={this.handlerEdit.bind(this)} status={this.state.statusData} user={this.props.location.state.user} statusUpdate={this.statusUpdate.bind(this)} followinglist={this.state.following} fetchFollowingList={this.fetchFollowingList.bind(this)} /></Route>\r\n          <Route path=\"/community\"><CommunityPage user={this.props.location.state.user} users={this.state.users} following={this.state.following} fetchUsers={this.fetchUsers.bind(this)} fetchFollowingList={this.fetchFollowingList.bind(this)} /></Route>\r\n        </Switch>\r\n\r\n      </Router>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default MainPage;","import { Form, Icon, Input, Button, Tooltip } from 'antd';\r\nimport React from 'react';\r\n\r\nclass NormalLoginForm extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  handleSubmit = async e => {\r\n    e.preventDefault();\r\n    this.props.form.validateFields(async (err, values) => {\r\n      if (!err) {\r\n        // register user with form values\r\n        const id = this.props.user.id;\r\n        values['id'] = id;\r\n        // post value to database by calling api\r\n        const options = {method: 'POST', headers: {Authorization : 'Bearer ' + this.props.accessToken}}\r\n        options.body = JSON.stringify(values)\r\n        const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/registerUser\"\r\n        await fetch (uri, options)\r\n        .then(response => console.log(response.json()))\r\n        .then(this.props.handleRegister())\r\n        .catch(err => console.log(err))\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form;\r\n    const formItemLayout = {\r\n      wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 24 },\r\n      },\r\n    };\r\n\r\n    return (\r\n      <Form {...formItemLayout} onSubmit={this.handleSubmit} className=\"login-form\">\r\n        <Form.Item label=\"E-mail\">\r\n          {getFieldDecorator('email', {\r\n            rules: [{ required: true, message: 'Please input your email address!' },\r\n          {type: 'email', message:'The input is not a valid email'},],\r\n          initialValue:this.props.user.mail\r\n           })(\r\n            <Input\r\n              prefix={<Icon type=\"mail\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n              placeholder=\"E-mail\"\r\n            />,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item label=\"Name\">\r\n          {getFieldDecorator('name', {\r\n            rules: [{ required: true, message: 'Please input your Name!' }],\r\n            initialValue: this.props.user.givenName + \" \" + this.props.user.surname\r\n          })(\r\n            <Input\r\n              placeholder=\"Input your name\"\r\n            />,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item label={\r\n        <span>Username&nbsp;\r\n        <Tooltip title = \"This name will be shown to other users\">\r\n          <Icon type=\"question-circle-o\"/>\r\n        </Tooltip>\r\n        </span>}>\r\n          {getFieldDecorator('username', {\r\n            rules: [{ required: true, message: 'Please input your username!' }],\r\n          })(\r\n            <Input\r\n              placeholder=\"Input your username\"\r\n            />,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n            Register\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nconst WrappedNormalLoginForm = Form.create({ name: 'normal_login' })(NormalLoginForm);\r\nexport default WrappedNormalLoginForm;","import React from 'react';\r\nimport WrappedNormalLoginForm from './NormalLoginForm';\r\nimport { Grid } from '@material-ui/core';\r\nimport { Typography } from 'antd';\r\n\r\nclass LoginPage extends React.Component {\r\n\r\n    constructor (props) {\r\n        super(props);\r\n    }\r\n\r\n    render (){\r\n        const { Title } = Typography;\r\n        return  (  \r\n        <Grid\r\n    container\r\n    spacing={0}\r\n    direction=\"column\"\r\n    alignItems=\"center\"\r\n    justify=\"center\"\r\n    style={{ minHeight: '100vh', minWidth: '100vw', 'background' : '#FFFACD' }}\r\n    >\r\n    <Grid item>\r\n            <Typography><Title>Register for your first sign in</Title></Typography>\r\n    </Grid>\r\n    <Grid item>\r\n        <WrappedNormalLoginForm user={this.props.location.state.user} handleRegister={this.props.location.handleRegister}/>\r\n    </Grid>   \r\n\r\n    </Grid>\r\n    );\r\n}\r\n}\r\n\r\nexport default LoginPage;","import React from 'react';\r\nimport { Container } from '@material-ui/core';\r\nimport { Button, Typography, Layout, Spin } from 'antd';\r\nimport { BrowserRouter as Router, Switch, Route, Redirect, useHistory } from \"react-router-dom\";\r\nimport config from './Config';\r\nimport { UserAgentApplication } from 'msal';\r\nimport MainPage from './MainPage';\r\nimport LoginPage from './LoginPage';\r\n\r\n\r\nclass SignInPage extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.UserAgentApplication = new UserAgentApplication({\r\n            auth: {\r\n                clientId: config.appId,\r\n                authority: \"https://login.microsoftonline.com/4a5378f9-29f4-4d3e-be89-669d03ada9d8\",\r\n                redirectURI: \"https://cmy1g17-cad-cw1.azurewebsites.net/\"\r\n            },\r\n            cache: {\r\n                cacheLocation: \"localStorage\",\r\n                storeAuthStateInCookie: false\r\n            }\r\n        })\r\n\r\n        var user = this.UserAgentApplication.getAccount();\r\n\r\n        this.state = {\r\n            user: {},\r\n            isAuthenticated: (user !== null),\r\n            authResponse: null,\r\n            error: {},\r\n            db_user: [],\r\n            updateUser: false\r\n        };\r\n\r\n        if (user) {\r\n            this.getUserProfile();\r\n        }\r\n\r\n        this.getUserProfile = this.getUserProfile.bind(this);\r\n        this.getUserDetails = this.getUserDetails.bind(this);\r\n        this.signIn = this.signIn.bind(this);\r\n        this.getUserFromDb = this.getUserFromDb.bind(this);\r\n    }\r\n\r\n    async getUserDetails(accessToken) {\r\n        var graph = require('@microsoft/microsoft-graph-client');\r\n        const client = graph.Client.init({\r\n            authProvider: (done) => {\r\n                done(null, accessToken.accessToken);\r\n            }\r\n        });\r\n        const user = await client.api('/me').get();\r\n        return user;\r\n    }\r\n\r\n    async getUserProfile() {\r\n        try {\r\n            // get access token silently\r\n            var accessToken = await this.UserAgentApplication.acquireTokenSilent({\r\n                scopes: config.scopes\r\n            });\r\n            if (accessToken) {\r\n                // get user profile\r\n                var user = await this.getUserDetails(accessToken);\r\n                this.setState({\r\n                    isAuthenticated: true,\r\n                    user: user,\r\n                    error: {},\r\n                    authResponse: accessToken.accessToken,\r\n                    updateUser: true\r\n                });\r\n                await this.getUserFromDb();\r\n            }\r\n        } catch (error) {\r\n            this.setState({\r\n                isAuthenticated: false\r\n            })\r\n        }\r\n    }\r\n\r\n    async signIn() {\r\n        try {\r\n            await this.UserAgentApplication.loginPopup(\r\n                {\r\n                    scopes: config.scopes,\r\n                    prompt: \"select_account\"\r\n                }\r\n            );\r\n            await this.getUserProfile();\r\n        } catch (err) {\r\n            var error = {}\r\n            error = {\r\n                message: err.message,\r\n                debug: JSON.stringify(err)\r\n            }\r\n            this.setState({\r\n                isAuthenticated: false,\r\n                user: {},\r\n                error: error\r\n            })\r\n        }\r\n    }\r\n\r\n    async getUserFromDb() {\r\n        const url = \"https://cad-cw-cmy1g17.azurewebsites.net/api/getUserFromDB?id=\" + this.state.user.id;\r\n        const options = {\r\n            method: 'GET',\r\n            headers: { 'Authorization': 'Bearer ' + this.state.authResponse }\r\n        }\r\n        await fetch(url, options)\r\n            .then(response => response.json())\r\n            .then(user =>\r\n                this.setState({ db_user: user })\r\n            )\r\n    }\r\n\r\n    handleRegister() {\r\n        this.setState({ updateUser: true });\r\n    }\r\n\r\n    async componentDidUpdate(prevProps, prevStates) {\r\n        if (this.state.updateUser) {\r\n            await this.getUserFromDb();\r\n            if (prevStates.db_user !== this.state.db_user) {\r\n                this.setState({ updateUser: false });\r\n            }\r\n        }\r\n    }\r\n\r\n    logIn() {\r\n        const { Title } = Typography;\r\n\r\n        return this.state.isAuthenticated ? (\r\n            // check if user already in the database\r\n            !this.state.updateUser ? (\r\n                this.state.db_user.length === 0 ? (\r\n                    // user has not registered yet\r\n                    <Redirect to={{ pathname: \"/register\", state: { user: this.state.user, accessToken: this.state.authResponse }, handleRegister: this.handleRegister.bind(this) }} />\r\n                ) :\r\n                    // direct user to status page\r\n                    (\r\n                        <Redirect to={{ pathname: \"/status\", state: { user: this.state.db_user[0], accessToken: this.state.authResponse } }} />\r\n                    )\r\n            ) :\r\n                (\r\n                    <Container style={{ width: '100vw', height: '100vh', textAlign: 'center' }}>\r\n                        <Spin size=\"large\" />\r\n                    </Container>\r\n                )\r\n        )\r\n            : (\r\n                <Layout style={{ textAlign: \"center\", margin: \"20%\", background: \"white\" }}>\r\n                    <Container>\r\n                        <Title>Welcome to the Social Media!</Title>\r\n                        <Button onClick={this.signIn}>Click here to sign in</Button>\r\n                    </Container>\r\n                </Layout>\r\n            );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Router>\r\n                <div>\r\n                    {this.logIn()}\r\n                </div>\r\n                <Switch>\r\n                    <Route path=\"/register\" component={LoginPage} />\r\n                    <Route path=\"/status\" component={MainPage} />\r\n                </Switch>\r\n            </Router>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SignInPage;","import React from 'react';\nimport SignInPage from './SignInPage';\nimport './App.css'\n\nfunction App() {\n  return (\n    <SignInPage/>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}