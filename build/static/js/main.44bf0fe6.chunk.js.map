{"version":3,"sources":["Config.js","StatusTextBox.js","Status.js","StatusList.js","StatusPage.js","UserCard.js","CommunityPage.js","Profile.js","MainPage.js","NormalLoginForm.js","LoginPage.js","SignInPage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","appId","scopes","StatusTextBox","handleSubmit","e","preventDefault","props","form","validateFields","err","values","options","method","headers","Authorization","accessToken","user","id","username","console","log","JSON","stringify","body","fetch","then","response","json","resetFields","handler","catch","this","fieldsError","getFieldDecorator","isFieldTouched","getFieldsError","getFieldError","statusError","Container","style","width","textAlign","bordered","onSubmit","Item","validateStatus","help","rules","required","message","TextArea","rows","cols","placeholder","size","type","htmlType","disabled","Object","keys","some","field","React","Component","WrappedStatusTextBox","create","name","Meta","Status","showModal","setState","visible","handleChange","new_content","target","value","handleCancel","handleOk","state","uri","item","content","text","title","datetime","description","isUserTweet","margin","padding","actions","key","onClick","handleDelete","bind","onOk","onCancel","onChange","StatusList","dataSource","data","renderItem","Content","StatusPage","updatedEdit","updatedPost","status","handlerEdit","handlerPost","display","UserCard","handleUnfollow","profile","handleFollow","button","following","includes","CommunityPage","Title","updateFollow","fetchUsers","fetchFollowingList","prevProps","prevState","length","grid","gutter","column","users","Profile","follower","fetchFollowerList","row","followingData","i","push","email","columns","dataIndex","followerData","span","fontSize","to","followerList","followingList","exact","path","menuItemSize","Header","paddingTop","menuPlaceHolder","height","MainPage","statusData","updatedStatus","prevStates","statusUpdate","location","filter","index","arr","fetchFollowingUserData","list","Promise","all","map","cache","result","concat","fetchFollowerUserData","sort","a","b","Date","parse","theme","mode","icon","followinglist","NormalLoginForm","handleRegister","wrapperCol","xs","sm","className","label","initialValue","mail","prefix","color","givenName","surname","WrappedNormalLoginForm","LoginPage","Grid","container","spacing","direction","alignItems","justify","minHeight","minWidth","SignInPage","UserAgentApplication","auth","clientId","config","authority","redirectURI","cacheLocation","storeAuthStateInCookie","getAccount","isAuthenticated","authResponse","error","db_user","updateUser","getUserProfile","getUserDetails","signIn","getUserFromDb","graph","require","client","Client","init","authProvider","done","api","get","acquireTokenSilent","loginPopup","prompt","debug","url","pathname","background","logIn","component","App","Boolean","window","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.44bf0fe6.chunk.js","sourcesContent":["module.exports = {\r\n    appId: 'f6848992-be00-4b00-8eb6-18f1654d6a81',\r\n    scopes: [\r\n        \"https://graph.microsoft.com/.default\"\r\n    ]\r\n}","import React from 'react';\r\nimport { Form, Button, Input, Card } from 'antd';\r\nimport { Container } from '@material-ui/core';\r\n\r\nfunction hasErrors(fieldsError) {\r\n    return Object.keys(fieldsError).some(field => fieldsError[field]);\r\n  }\r\n\r\nclass StatusTextBox extends React.Component {\r\n    \r\n    componentDidMount() {\r\n        // To disabled submit button at the beginning.\r\n        this.props.form.validateFields();\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n          if (!err) {\r\n            // call api to post status\r\n            const url = \"https://cad-cw-cmy1g17.azurewebsites.net/api/postStatus\";\r\n            const options = {method: 'POST', headers: {Authorization : 'Bearer ' + this.props.accessToken}}\r\n            values['id'] = this.props.user.id;\r\n            values['username'] = this.props.user.username;\r\n            console.log(\"POST\" + JSON.stringify(values));\r\n            options.body = JSON.stringify(values);\r\n            fetch (url, options)\r\n            .then(response => response.json())\r\n            .then(this.props.form.resetFields())\r\n            .then(this.props.handler(true))\r\n            .catch(err => console.log(err))\r\n          }\r\n        });\r\n    };\r\n\r\n\r\n\r\n    render () {\r\n        const { getFieldDecorator, isFieldTouched, getFieldsError, getFieldError } = this.props.form;\r\n        const statusError = isFieldTouched('content') && getFieldError('content');\r\n\r\n        return (\r\n            <Container style={{width:'60vw', textAlign:\"center\"}}>\r\n            <Card bordered={false}>\r\n            <Form onSubmit={this.handleSubmit}>\r\n                    <Form.Item validateStatus={statusError ? 'error' : ''} help={statusError || ''}>\r\n                        {getFieldDecorator('content', {\r\n                            rules: [{required: true, message : 'You cannot post empty status'}]\r\n                        }) (\r\n                            <Input.TextArea rows='5' cols='35' style={{'resize':'none', 'width' : '50%', 'fontSize' : '18px'}} placeholder=\"What do you want to post today?\"/>\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button size=\"large\" type=\"primary\" htmlType = \"submit\" disabled={hasErrors(getFieldsError())}>Post</Button>  \r\n                    </Form.Item>\r\n            </Form>\r\n            </Card>\r\n            </Container>\r\n        );\r\n    }\r\n\r\n}\r\nconst WrappedStatusTextBox = Form.create({name : 'status_box'})(StatusTextBox);\r\nexport default WrappedStatusTextBox;","import React from 'react';\r\nimport { Input, Card, Icon, Modal } from 'antd';\r\nimport {Container} from '@material-ui/core';\r\nimport { textAlign } from '@material-ui/system';\r\nconst {Meta} = Card;\r\n\r\nclass Status extends React.Component {\r\n    \r\n    constructor (props){\r\n        super(props);\r\n        this.state = {visible : false, new_content: this.props.item.content};\r\n    }\r\n\r\n    showModal = () => {\r\n        this.setState({\r\n          visible: true,\r\n        });\r\n    };\r\n\r\n    handleChange = e => {\r\n        this.setState({\r\n          new_content: e.target.value,\r\n        });\r\n    };\r\n\r\n    handleCancel = e => {\r\n        this.setState({\r\n          visible: false,\r\n        });\r\n    };\r\n\r\n    // update edited status via Azure Functions\r\n    handleOk = e => {\r\n        const new_content = this.state.new_content;\r\n        const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/editStatus?id=\" + this.props.item.id;\r\n        const options = {method : 'POST'}\r\n        options.body = JSON.stringify({\r\n            content : new_content\r\n        });\r\n        fetch(uri, options)\r\n        .then(response => response.json())\r\n        .then(this.setState({\r\n            visible: false,\r\n          }))\r\n        .then(this.props.handler())\r\n        .catch(err => console.log(err))\r\n    };\r\n\r\n\r\n    isUserTweet() {\r\n        // check if post \r\n        return this.props.user.username === this.props.item.username;\r\n    }\r\n\r\n    handleDelete (){\r\n        const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/deleteStatus?id=\"+this.props.item.id;\r\n        const options = {method : 'GET'}\r\n        fetch(uri, options)\r\n        .then(response => response.json())\r\n        .then(this.props.handler())\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    render() {\r\n\r\n        const text = <Meta title={this.props.item.username+\"  (\"+this.props.item.datetime+\")\"} description={this.props.item.content}/>\r\n\r\n        if (this.isUserTweet()) {\r\n\r\n            return (\r\n                <Container style={{width:'60vw', textAlign:\"center\"}}>\r\n                <Card style={{margin:0, padding: 0}} \r\n                      actions={[\r\n                      <Icon type=\"edit\" key=\"edit\" onClick={this.showModal}/>, \r\n                      <Icon type=\"delete\" onClick={this.handleDelete.bind(this)}/>]\r\n                      }>\r\n                    {text}\r\n                </Card>\r\n                <Modal\r\n                    title=\"Edit your status\"\r\n                    visible={this.state.visible}\r\n                    onOk={this.handleOk.bind(this)}\r\n                    onCancel={this.handleCancel}\r\n                >\r\n                    <Input.TextArea id=\"textare\" onChange={this.handleChange.bind(this)} rows='5' cols='35' style={{'resize':'none', 'fontSize' : '18px'}} value={this.state.new_content} placeholder=\"What do you want to post today?\"/>\r\n                </Modal>\r\n                </Container>\r\n            );\r\n        }else {\r\n            return (\r\n                <Container style={{width:'60vw', textAlign:\"center\"}}>\r\n                <Card>\r\n                    {text}\r\n                </Card>\r\n                </Container>\r\n            )\r\n        }\r\n\r\n    }\r\n}\r\nexport default Status;","import React from 'react';\r\nimport { Container } from '@material-ui/core';\r\nimport { List } from 'antd';\r\nimport Status from './Status';\r\nimport { textAlign } from '@material-ui/system';\r\n\r\nclass StatusList extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    render () {\r\n        return (\r\n                <List dataSource ={this.props.data} style={{textAlign : \"center\"}}\r\n                renderItem = {item => (\r\n                    <List.Item key={item.id}>\r\n                        <Status item={item} user={this.props.user} handler={this.props.handler}/>\r\n                    </List.Item>\r\n                )}>\r\n                </List>\r\n        );\r\n    }\r\n\r\n}\r\nexport default StatusList;","import React from 'react';\r\nimport { Layout, Spin } from 'antd';\r\nimport WrappedStatusTextBox from './StatusTextBox';\r\nimport { Container } from '@material-ui/core'; \r\nimport StatusList from './StatusList';\r\nconst { Content } = Layout\r\n\r\nclass StatusPage extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    \r\n\r\n    // componentDidMount(){\r\n    //     this.props.fetchFollowingList();\r\n    // }\r\n    \r\n    display(){\r\n        return (\r\n            (this.props.updatedEdit || this.props.updatedPost) ? \r\n                <Spin/>\r\n                :\r\n                <StatusList data={this.props.status} user={this.props.user} handler={this.props.handlerEdit}/>\r\n        )\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <Layout>\r\n            <Content>\r\n                <Container style={{textAlign:'center'}}>\r\n                <WrappedStatusTextBox user={this.props.user} accessToken={this.props.accessToken} handler={this.props.handlerPost}></WrappedStatusTextBox>\r\n                {this.display()}\r\n                </Container>\r\n            </Content>\r\n            </Layout>\r\n        );\r\n    }\r\n\r\n}\r\nexport default StatusPage;","import React from 'react';\r\nimport { Card, Button } from 'antd';\r\n\r\nclass UserCard extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n\r\n\r\n    handleUnfollow = e => {\r\n        // talk to azure functions to unfollow a user\r\n        const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/unfollowUser?from=\" + this.props.user.id + \"&to=\" + this.props.profile.id;\r\n        fetch(uri)\r\n        .then(response => response.json())\r\n        .then(this.props.handler())\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    handleFollow = e => {\r\n        // talk to azure functions to follow a user\r\n        const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/followUser?from=\" + this.props.user.id + \"&to=\" + this.props.profile.id;\r\n        fetch(uri)\r\n        .then(response => response.json())\r\n        .then(this.props.handler())\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n\r\n\r\n    render () {\r\n        let button;\r\n        if (this.props.following.includes(this.props.profile.id)) {\r\n            // user already following this user\r\n            button = <Button type=\"primary\" onClick={this.handleUnfollow}>Following</Button>\r\n        }else {\r\n            button = <Button type=\"primary\" onClick={this.handleFollow}>Follow</Button>\r\n        }\r\n        return (\r\n            <Card bordered={false} title={'@'+this.props.profile.username} style={{textAlign: 'center'}}>\r\n                <div>{this.props.profile.name}</div>\r\n                <div>{button}</div>\r\n            </Card>\r\n        );\r\n        \r\n    }\r\n\r\n}\r\nexport default UserCard;","import React from 'react';\r\nimport { Layout, Typography, List, Card } from 'antd';\r\nimport { Container } from '@material-ui/core';\r\nimport UserCard from './UserCard'; \r\n \r\nconst { Content } = Layout;\r\nconst { Title } = Typography;\r\n\r\nclass CommunityPage extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {updateFollow : false};\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.fetchUsers();\r\n        this.props.fetchFollowingList();\r\n    }\r\n\r\n    handler(){\r\n        this.setState({updateFollow : true});\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState){\r\n        if (this.state.updateFollow) {\r\n            const size = prevProps.following.length;\r\n            this.props.fetchFollowingList();\r\n            if (size !== this.props.following.length) {\r\n                // data fetch is consistent to write\r\n                this.setState({updateFollow:false});\r\n            }\r\n        }\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <Layout>\r\n            <Content>\r\n                <Container style={{textAlign:'center'}}>\r\n                    <h1>Explore the community</h1>\r\n                    <List grid= {{gutter : 16, column: 4}}\r\n                    dataSource={this.props.users}\r\n                    renderItem={item => (\r\n                        <List.Item>\r\n                            <UserCard user={this.props.user} following={this.props.following} profile={item} handler={this.handler.bind(this)}/>\r\n                        </List.Item>\r\n                    )} \r\n                    />                   \r\n                </Container>\r\n            </Content>\r\n            </Layout>\r\n        );\r\n    }\r\n\r\n}\r\nexport default CommunityPage;","import React from 'react';\r\nimport { Row, Col, Card, Table } from 'antd';\r\nimport { Container } from '@material-ui/core';\r\nimport { Route, Switch, Link, BrowserRouter as Router } from 'react-router-dom';\r\n\r\nclass Profile extends React.Component {\r\n\r\n    constructor(props){\r\n        super (props);\r\n        this.following.bind(this);\r\n        this.follower.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.fetchFollowingList();\r\n        this.props.fetchFollowerList();\r\n    }\r\n\r\n    following() {\r\n        const row = [];\r\n        const columns = [\r\n            {\r\n                title: 'Username',\r\n                dataIndex : 'username',\r\n                key : 'username'\r\n            },\r\n            {\r\n                title: 'Name',\r\n                dataIndex : 'name',\r\n                key : 'name'\r\n            },\r\n            {\r\n                title: 'Email',\r\n                dataIndex : 'email',\r\n                key : 'email'\r\n            }\r\n        ]\r\n        const data = this.props.followingData;\r\n        for (let i = 0; i < data.length; i++){\r\n            row.push({\r\n                key : 'following'+i,\r\n                username : '@' + data[i].username,\r\n                name : data[i].name,\r\n                email : data[i].email\r\n            })\r\n        }\r\n        return (\r\n            <Container style={{textAlign:'center'}}>\r\n                <h2>List of Following</h2>\r\n                <Table columns={columns} dataSource={data}/>\r\n            </Container>\r\n        )\r\n    }\r\n    \r\n    follower() {\r\n        const row = [];\r\n        const columns = [\r\n            {\r\n                title: 'Username',\r\n                dataIndex : 'username',\r\n                key : 'username'\r\n            },\r\n            {\r\n                title: 'Name',\r\n                dataIndex : 'name',\r\n                key : 'name'\r\n            },\r\n            {\r\n                title: 'Email',\r\n                dataIndex : 'email',\r\n                key : 'email'\r\n            }\r\n        ]\r\n        const data = this.props.followerData;\r\n        for (let i = 0; i < data.length; i++){\r\n            row.push({\r\n                key : 'follower'+i,\r\n                username : '@' + data[i].username,\r\n                name : data[i].name,\r\n                email : data[i].email\r\n            })\r\n        }\r\n        return (\r\n            <Container style={{textAlign:'center'}}>\r\n                <h2>List of Follower</h2>\r\n                <Table columns={columns} dataSource={data}/>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n    <Router>\r\n    <div>\r\n    <Row>\r\n      <Col span={24}>\r\n          <Container style={{textAlign:'center'}}>\r\n            <Card bordered={false}>\r\n                <h1>{'@' + this.props.user.username}</h1>\r\n                <div style={{fontSize : '20px'}}>{this.props.user.name}</div>\r\n                <div style={{fontSize : '20px'}}>{this.props.user.email}</div>\r\n            </Card>\r\n            <Row>\r\n            <Col span={12}>\r\n                <Container>\r\n                    <Link to=\"/follower\">\r\n                        <Card>\r\n                            <h2>Number of Followers</h2>\r\n                            <div style={{fontSize: '30px'}}>{this.props.followerList.length}</div>\r\n                        </Card>\r\n                    </Link>\r\n                </Container>\r\n            </Col>\r\n            <Col span={12}>\r\n                <Container>\r\n                    <Link to=\"/following\">\r\n                        <Card>\r\n                        <h2>Number of Following</h2>\r\n                        <div style={{fontSize: '30px'}}>{this.props.followingList.length}</div>\r\n                        </Card>\r\n                    </Link>\r\n                </Container>\r\n            </Col>\r\n            </Row>  \r\n          </Container>\r\n        </Col>\r\n    </Row>\r\n    <Row>\r\n        <Col span={24}>\r\n            <Switch>\r\n                <Route exact path=\"/following\">{this.following()}</Route>\r\n                <Route exact path=\"/follower\">{this.follower()}</Route>\r\n            </Switch>\r\n            \r\n        </Col>\r\n    </Row>\r\n    </div>\r\n    </Router>\r\n    )\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\nexport default Profile;","import React from 'react';\r\nimport { Layout, Menu, Icon, Typography, Result } from 'antd';\r\nimport { BrowserRouter as Router, Link, Route, Switch } from 'react-router-dom';\r\nimport StatusPage from './StatusPage';\r\nimport CommunityPage from './CommunityPage';\r\nimport Profile from './Profile';\r\n\r\nconst { Header, Content } = Layout;\r\nconst { Title } = Typography;\r\nconst menuItemSize = {\r\n  fontSize: '20px',\r\n  paddingTop: '25px'\r\n};\r\nconst menuPlaceHolder = { height: '10vh', width: '20vw', textAlign: 'center' }\r\n\r\n\r\nclass MainPage extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { statusData: [], users: [], following: [], followerList: [], followingData: [], followerData: [], updatedPost:false, updatedStatus:false }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchFollowingList();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevStates) {\r\n      if (this.state.updatedPost || this.state.updatedEdit) {\r\n        this.statusUpdate();\r\n        if (prevStates.statusData !== this.state.statusData) {\r\n          this.setState({updatedEdit : false, updatedPost : false})\r\n        }\r\n      }\r\n\r\n  }\r\n\r\nhandlerPost(value) {\r\n    this.setState({updatedPost : true});\r\n}\r\n\r\nhandlerEdit(value) {\r\n    this.setState({updatedEdit : true});\r\n}\r\n\r\n  fetchUsers() {\r\n    // fetch all users from database\r\n    const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/getAllUsers\";\r\n    const id = this.props.location.state.user.id;\r\n    fetch(uri)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data.filter(function (value, index, arr) {\r\n          return value.id !== id\r\n        })\r\n      })\r\n      .then(data => this.setState({ users: data }))\r\n  }\r\n\r\n  fetchFollowingList() {\r\n    // fetch list of following\r\n    console.log(\"fetch following list\");\r\n    const id = this.props.location.state.user.id;\r\n    const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/getFollowing?id=\" + this.props.location.state.user.id;\r\n    return (fetch(uri)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        console.log(data);\r\n        this.setState({ following: data })\r\n        this.statusUpdate();\r\n        this.fetchFollowingUserData();\r\n    })\r\n    );\r\n  }\r\n\r\n  fetchFollowingUserData() {\r\n    const list = this.state.following;\r\n    Promise.all(list.map(user => {\r\n      const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/getUserFromDb?id=\" + user;\r\n      console.log(uri);\r\n      return fetch(uri, { cache: \"no-cache\" }).then(response => response.json())\r\n    }))\r\n      .then(data => {\r\n        let result = []\r\n        for (var i = 0; i < data.length; i++) {\r\n          if (data.length > 0) {\r\n            result = result.concat(data[i]);\r\n          }\r\n        }\r\n        console.log(result);\r\n        return result;\r\n      }).then(result => this.setState({ followingData: result }))\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  fetchFollowerUserData() {\r\n    console.log(\"fetch follower data\");\r\n    const followerList = this.state.followerList;\r\n    console.log(followerList);\r\n    Promise.all(followerList.map(user => {\r\n      const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/getUserFromDb?id=\" + user;\r\n      console.log(uri);\r\n      return fetch(uri, { cache: \"no-cache\" }).then(response => response.json())\r\n    }))\r\n      .then(data => {\r\n        console.log(data);\r\n        let result = []\r\n        for (var i = 0; i < data.length; i++) {\r\n          if (data.length > 0) {\r\n            result = result.concat(data[i]);\r\n          }\r\n        }\r\n        console.log(result);\r\n        return result;\r\n      }).then(result => this.setState({ followerData: result }))\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  fetchFollowerList() {\r\n    // fetch list of followers\r\n    const id = this.props.location.state.user.id;\r\n    const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/getFollowers?id=\" + this.props.location.state.user.id;\r\n    fetch(uri)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      this.setState({ followerList: data });\r\n      this.fetchFollowerUserData();\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  statusUpdate() {\r\n    console.log(\"status update\");\r\n    // finding data for status list\r\n    var followingList = this.state.following;\r\n    followingList = [...followingList];\r\n    if (!followingList.includes(this.props.location.state.user.id)){\r\n      followingList.push(this.props.location.state.user.id);\r\n    }\r\n    Promise.all(followingList.map(user => {\r\n      const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/getStatus/\" + user;\r\n      return fetch(uri, { cache: \"no-cache\" }).then(response => response.json())\r\n    }))\r\n      .then(data => {\r\n        let result = []\r\n        for (var i = 0; i < data.length; i++) {\r\n          if (data.length > 0) {\r\n            result = result.concat(data[i]);\r\n          }\r\n        }\r\n        result = result.sort(function (a, b) {\r\n          return Date.parse(a.datetime) < Date.parse(b.datetime) ? 1 : -1\r\n        });\r\n        console.log(result);\r\n        return result;\r\n      }).then(result => this.setState({ statusData: result }))\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <Menu theme=\"dark\" mode=\"horizontal\" style={{ height: '10vh' }}>\r\n          <Menu.Item key=\"profile\" style={menuPlaceHolder}>\r\n            <Link to=\"/profile\">\r\n              <span style={menuItemSize}>\r\n                <Icon type=\"smile\" style={menuItemSize} />\r\n                Profile </span>\r\n            </Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"status\" style={menuPlaceHolder}>\r\n            <Link to=\"/statusList\">\r\n              <span style={menuItemSize}>\r\n                <Icon type=\"message\" style={menuItemSize} />\r\n                Status </span>\r\n            </Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"user\" style={menuPlaceHolder}>\r\n            <Link to=\"/community\">\r\n              <span style={menuItemSize}><Icon type=\"user\" style={menuItemSize} /> Explore </span>\r\n            </Link>\r\n          </Menu.Item>\r\n        </Menu>\r\n        <Switch>\r\n          <Route path=\"/status\"><Result\r\n            icon={<Icon type=\"smile\" theme=\"twoTone\" />}\r\n            title=\"Welcome to the Social Media App!\"\r\n          /></Route>\r\n          <Route path=\"/profile\"><Profile user={this.props.location.state.user} followingList={this.state.following} followingData = {this.state.followingData} followerData = {this.state.followerData} fetchFollowingList={this.fetchFollowingList.bind(this)} followerList={this.state.followerList} fetchFollowerList={this.fetchFollowerList.bind(this)} /> </Route>\r\n          <Route path=\"/statusList\"><StatusPage updatedPost={this.state.updatedPost} updatedEdit={this.state.updatedEdit} handlerPost={this.handlerPost.bind(this)} handlerEdit={this.handlerEdit.bind(this)} status={this.state.statusData} user={this.props.location.state.user} statusUpdate={this.statusUpdate.bind(this)} followinglist={this.state.following} fetchFollowingList={this.fetchFollowingList.bind(this)} /></Route>\r\n          <Route path=\"/community\"><CommunityPage user={this.props.location.state.user} users={this.state.users} following={this.state.following} fetchUsers={this.fetchUsers.bind(this)} fetchFollowingList={this.fetchFollowingList.bind(this)} /></Route>\r\n        </Switch>\r\n\r\n      </Router>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default MainPage;","import { Form, Icon, Input, Button, Tooltip } from 'antd';\r\nimport React from 'react';\r\n\r\nclass NormalLoginForm extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        // register user with form values\r\n        const id = this.props.user.id;\r\n        values['id'] = id;\r\n        // post value to database by calling api\r\n        const options = {method: 'POST', headers: {Authorization : 'Bearer ' + this.props.accessToken}}\r\n        options.body = JSON.stringify(values)\r\n        console.log(values);\r\n        const uri = \"https://cad-cw-cmy1g17.azurewebsites.net/api/registerUser\"\r\n        fetch (uri, options)\r\n        .then(response => console.log(response.json()))\r\n        .then(this.props.handleRegister())\r\n        .catch(err => console.log(err))\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form;\r\n    const formItemLayout = {\r\n      wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 24 },\r\n      },\r\n    };\r\n\r\n    return (\r\n      <Form {...formItemLayout} onSubmit={this.handleSubmit} className=\"login-form\">\r\n        <Form.Item label=\"E-mail\">\r\n          {getFieldDecorator('email', {\r\n            rules: [{ required: true, message: 'Please input your email address!' },\r\n          {type: 'email', message:'The input is not a valid email'},],\r\n          initialValue:this.props.user.mail\r\n           })(\r\n            <Input\r\n              prefix={<Icon type=\"mail\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n              placeholder=\"E-mail\"\r\n            />,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item label=\"Name\">\r\n          {getFieldDecorator('name', {\r\n            rules: [{ required: true, message: 'Please input your Name!' }],\r\n            initialValue: this.props.user.givenName + \" \" + this.props.user.surname\r\n          })(\r\n            <Input\r\n              placeholder=\"Input your name\"\r\n            />,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item label={\r\n        <span>Username&nbsp;\r\n        <Tooltip title = \"This name will be shown to other users\">\r\n          <Icon type=\"question-circle-o\"/>\r\n        </Tooltip>\r\n        </span>}>\r\n          {getFieldDecorator('username', {\r\n            rules: [{ required: true, message: 'Please input your username!' }],\r\n          })(\r\n            <Input\r\n              placeholder=\"Input your username\"\r\n            />,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n            Register\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nconst WrappedNormalLoginForm = Form.create({ name: 'normal_login' })(NormalLoginForm);\r\nexport default WrappedNormalLoginForm;","import React from 'react';\r\nimport WrappedNormalLoginForm from './NormalLoginForm';\r\nimport { Grid } from '@material-ui/core';\r\nimport { Typography } from 'antd';\r\n\r\nclass LoginPage extends React.Component {\r\n\r\n    constructor (props) {\r\n        super(props);\r\n    }\r\n\r\n    render (){\r\n        const { Title } = Typography;\r\n        return  (  \r\n        <Grid\r\n    container\r\n    spacing={0}\r\n    direction=\"column\"\r\n    alignItems=\"center\"\r\n    justify=\"center\"\r\n    style={{ minHeight: '100vh', minWidth: '100vw', 'background' : '#FFFACD' }}\r\n    >\r\n    <Grid item>\r\n            <Typography><Title>Register for your first sign in</Title></Typography>\r\n    </Grid>\r\n    <Grid item>\r\n        <WrappedNormalLoginForm user={this.props.location.state.user} handleRegister={this.props.location.handleRegister}/>\r\n    </Grid>   \r\n\r\n    </Grid>\r\n    );\r\n}\r\n}\r\n\r\nexport default LoginPage;","import React from 'react';\r\nimport { Container } from '@material-ui/core';\r\nimport { Button, Typography, Layout, Spin } from 'antd';\r\nimport { BrowserRouter as Router, Switch, Route, Redirect, useHistory } from \"react-router-dom\";\r\nimport config from './Config';\r\nimport { UserAgentApplication } from 'msal';\r\nimport MainPage from './MainPage';\r\nimport LoginPage from './LoginPage';\r\n\r\n\r\nclass SignInPage extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.UserAgentApplication = new UserAgentApplication({\r\n            auth: {\r\n                clientId: config.appId,\r\n                authority: \"https://login.microsoftonline.com/4a5378f9-29f4-4d3e-be89-669d03ada9d8\",\r\n                redirectURI: \"http://localhost:3000\"\r\n            },\r\n            cache: {\r\n                cacheLocation: \"localStorage\",\r\n                storeAuthStateInCookie: false\r\n            }\r\n        })\r\n\r\n        var user = this.UserAgentApplication.getAccount();\r\n\r\n        this.state = {\r\n            user: {},\r\n            isAuthenticated: (user !== null),\r\n            authResponse: null,\r\n            error: {},\r\n            db_user: [],\r\n            updateUser: false\r\n        };\r\n\r\n        if (user) {\r\n            this.getUserProfile();\r\n        }\r\n\r\n        this.getUserProfile = this.getUserProfile.bind(this);\r\n        this.getUserDetails = this.getUserDetails.bind(this);\r\n        this.signIn = this.signIn.bind(this);\r\n        this.getUserFromDb = this.getUserFromDb.bind(this);\r\n    }\r\n\r\n    async getUserDetails(accessToken) {\r\n        var graph = require('@microsoft/microsoft-graph-client');\r\n        const client = graph.Client.init({\r\n            authProvider: (done) => {\r\n                done(null, accessToken.accessToken);\r\n            }\r\n        });\r\n        const user = await client.api('/me').get();\r\n        return user;\r\n    }\r\n\r\n    async getUserProfile() {\r\n        try {\r\n            // get access token silently\r\n            var accessToken = await this.UserAgentApplication.acquireTokenSilent({\r\n                scopes: config.scopes\r\n            });\r\n            if (accessToken) {\r\n                // get user profile\r\n                var user = await this.getUserDetails(accessToken);\r\n                console.log(user);\r\n                this.setState({\r\n                    isAuthenticated: true,\r\n                    user: user,\r\n                    error: {},\r\n                    authResponse: accessToken.accessToken,\r\n                    updateUser: true\r\n                });\r\n                this.getUserFromDb();\r\n            }\r\n        } catch (error) {\r\n            this.setState({\r\n                isAuthenticated: false\r\n            })\r\n        }\r\n    }\r\n\r\n    async signIn() {\r\n        try {\r\n            await this.UserAgentApplication.loginPopup(\r\n                {\r\n                    scopes: config.scopes,\r\n                    prompt: \"select_account\"\r\n                }\r\n            );\r\n            await this.getUserProfile();\r\n        } catch (err) {\r\n            var error = {}\r\n            error = {\r\n                message: err.message,\r\n                debug: JSON.stringify(err)\r\n            }\r\n            this.setState({\r\n                isAuthenticated: false,\r\n                user: {},\r\n                error: error\r\n            })\r\n        }\r\n    }\r\n\r\n    getUserFromDb() {\r\n        const url = \"https://cad-cw-cmy1g17.azurewebsites.net/api/getUserFromDB?id=\" + this.state.user.id;\r\n        const options = {\r\n            method: 'GET',\r\n            headers: { 'Authorization': 'Bearer ' + this.state.authResponse }\r\n        }\r\n        fetch(url, options)\r\n            .then(response => response.json())\r\n            .then(user =>\r\n                this.setState({ db_user: user })\r\n            )\r\n    }\r\n\r\n    handleRegister() {\r\n        console.log(\"register handle\");\r\n        this.setState({ updateUser: true });\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevStates) {\r\n        if (this.state.updateUser) {\r\n            this.getUserFromDb();\r\n            console.log(this.state.db_user);\r\n            if (prevStates.db_user !== this.state.db_user) {\r\n                this.setState({ updateUser: false });\r\n            }\r\n        }\r\n    }\r\n\r\n    logIn() {\r\n        const { Title } = Typography;\r\n\r\n        return this.state.isAuthenticated ? (\r\n            // check if user already in the database\r\n            !this.state.updateUser ? (\r\n                this.state.db_user.length === 0 ? (\r\n                    // user has not registered yet\r\n                    <Redirect to={{ pathname: \"/register\", state: { user: this.state.user, accessToken: this.state.authResponse }, handleRegister: this.handleRegister.bind(this) }} />\r\n                ) :\r\n                    // direct user to status page\r\n                    (\r\n                        <Redirect to={{ pathname: \"/status\", state: { user: this.state.db_user[0], accessToken: this.state.authResponse } }} />\r\n                    )\r\n            ) :\r\n                (\r\n                    <Container style={{ width: '100vw', height: '100vh', textAlign: 'center' }}>\r\n                        <Spin size=\"large\" />\r\n                    </Container>\r\n                )\r\n        )\r\n            : (\r\n                <Layout style={{ textAlign: \"center\", margin: \"20%\", background: \"white\" }}>\r\n                    <Container>\r\n                        <Title>Welcome to the Social Media!</Title>\r\n                        <Button onClick={this.signIn}>Click here to sign in</Button>\r\n                    </Container>\r\n                </Layout>\r\n            );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Router>\r\n                <div>\r\n                    {this.logIn()}\r\n                </div>\r\n                <Switch>\r\n                    <Route path=\"/register\" component={LoginPage} />\r\n                    <Route path=\"/status\" component={MainPage} />\r\n                </Switch>\r\n            </Router>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SignInPage;","import React from 'react';\nimport SignInPage from './SignInPage';\nimport './App.css'\n\nfunction App() {\n  return (\n    <SignInPage/>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}